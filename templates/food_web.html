<!DOCTYPE html>
<html lang="nl">
<head>
    <meta charset="UTF-8">
    <title>Food Web</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>

<h1 class="title">Food Web</h1>
<a href="/menu?animal_id={{ animal_id }}" class="back-to-menu">
    Menu van {{ animal_name }}
</a>

<div class="food-web-canvas" id="canvas">

    <!-- STAGE: alles wat moet schalen / bewegen -->
    <div class="food-web-stage" id="stage">

        <!-- SVG CONNECTIONS -->
        <svg id="connections">
            <defs>
                <marker
                    id="arrow"
                    markerWidth="10"
                    markerHeight="10"
                    refX="9"
                    refY="5"
                    orient="auto"
                    markerUnits="strokeWidth">
                    <path d="M0,0 L10,5 L0,10 Z" fill="#333"/>
                </marker>
            </defs>
        </svg>

        <!-- NODES -->
        {% for node in nodes %}
            <div
                class="food-node depth-{{ node.depth }}"
                data-id="{{ node.id }}"
                data-type="{{ node.type }}"
                style="left: {{ node.x }}px; top: {{ node.y }}px;"
            >
                <div class="food-image">
                    <img src="{{ node.image }}" alt="{{ node.name }}">
                </div>
                <div class="food-name">
                    {{ node.name }}
                </div>
            </div>
        {% endfor %}

    </div>
</div>

<!-- ZOOM CONTROLS -->
<div class="zoom-controls">
    <button id="zoom-out">−</button>
    <button id="zoom-in">+</button>
    <button id="zoom-reset">⤢</button>
</div>

<!-- DATA NAAR JS -->
<script>
    const EDGES = {{ edges | tojson }};
</script>
<script src="{{ url_for('static', filename='food_web.js') }}"></script>

</body>
</html>
